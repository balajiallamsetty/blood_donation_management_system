/* Hospital Dashboard - Dark theme + subnavbar and layout alignment */

/* Page theme wrapper (scoped so it doesn't affect other pages) */
.hospital-dashboard {
  /* Light theme alignment with global site */
  --hd-bg: var(--color-bg-soft);
  --hd-card: #ffffff;
  --hd-card-muted: #f5f7fa;
  --hd-border: var(--color-border);
  --hd-text: var(--color-text);
  --hd-text-muted: var(--color-text-muted);
  --hd-accent: var(--color-accent);
  --hd-green: #0f766e;
  --hd-yellow: #d97706;
  --hd-red: var(--color-accent);
  background: var(--hd-bg);
  color: var(--hd-text);
  min-height: 100vh;
  padding-bottom: 48px;
}

/* Subnavbar (local page header under main navbar) */
.subnavbar {
  position: sticky;
  top: 70px; /* below global navbar height */
  z-index: 900;
  width: 100%;
  background: #ffffffd9;
  backdrop-filter: saturate(120%) blur(4px);
  border-bottom: 1px solid var(--color-border);
}

.subnavbar-container {
  height: 56px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 16px;
}

.subnavbar-left { display: flex; align-items: center; gap: 10px; }
.subnavbar-title { margin: 0; font-size: 1.1rem; font-weight: 700; color: var(--color-text); }

.subnav-links { display: flex; align-items: center; gap: 16px; list-style: none; margin: 0; padding: 0; }
.subnav-link { color: var(--color-text-muted); font-weight: 500; padding: 6px 8px; border-bottom: 2px solid transparent; }
.subnav-link a { color: inherit; text-decoration: none; }
.subnav-link a:hover { text-decoration: none; }
.subnav-link:hover { color: var(--color-text); }
.subnav-link.active { color: var(--color-text); border-bottom-color: var(--color-accent); }

/* Align main content consistently with global container */
.dashboard-content.container { padding-top: 18px; }

/* Grid layout for top blocks */
.stats-grid {
  display: grid;
  grid-template-columns: 2fr 1fr; /* left wide (inventory + requests), right narrow (expiry + log) */
  gap: 20px;
}
.stats-grid > .card { background: var(--hd-card); border: 1px solid var(--hd-border); box-shadow: var(--shadow-sm); }

/* Inventory overview grid */
.hd-inventory-grid { display: grid; grid-template-columns: repeat(2, minmax(220px, 1fr)); gap: 16px; }
@media (min-width: 900px) { .hd-inventory-grid { grid-template-columns: repeat(4, minmax(200px,1fr)); } }

.stock-card {
  background: var(--hd-card);
  border: 1px solid var(--hd-border);
  border-radius: 12px;
  padding: 14px 16px;
  transition: box-shadow .2s ease, transform .06s ease;
}
.stock-card:hover { box-shadow: var(--shadow-md); }
.stock-card .title { font-size: 0.95rem; font-weight: 600; color: var(--color-text-muted); display: flex; align-items: center; gap: 6px; }
.stock-card .units { font-size: 1.5rem; font-weight: 700; margin: 6px 0 8px 0; color: var(--color-text); }
.stock-card .actions { display: flex; gap: 8px; }

.progress-line { height: 6px; border-radius: 999px; background: #eceef1; overflow: hidden; }
.progress-line > span { display:block; height:100%; border-radius:999px; }
.level-ok .progress-line > span { background: #16a34a; width: 85%; }
.level-moderate .progress-line > span { background: #d97706; width: 55%; }
.level-low .progress-line > span { background: var(--color-accent); width: 25%; }
.level-label { display:block; margin-top:6px; color: var(--color-text-muted); font-size: 12px; }

/* Expiry tracking list */
.expiry-list { display: flex; flex-direction: column; gap: 10px; }
.expiry-item { display:flex; align-items: center; justify-content: space-between; gap: 10px; padding: 10px 12px; background: var(--hd-card-muted); border:1px solid var(--hd-border); border-radius:10px; }
.expiry-item .info { display:flex; align-items:center; gap:10px; }
.status-dot { width:10px; height:10px; border-radius:50%; display:inline-block; }
.dot-critical { background:#ef4444; }
.dot-warning { background:#f59e0b; }
.dot-ok { background:#22c55e; }

/* Log list */
.log-list { max-height: 240px; overflow: auto; display:flex; flex-direction: column; gap:8px; }
.log-item { background: var(--hd-card-muted); border:1px solid var(--hd-border); border-left: 3px solid #d0d7e2; border-radius: 8px; padding: 8px 10px; color: var(--color-text-muted); }
.log-item.success { border-left-color: #16a34a; }
.log-item.warn { border-left-color: #d97706; }
.log-item.error { border-left-color: var(--color-accent); }
.log-item strong { color: var(--color-text); }
.log-meta { color: #94a3b8; font-size: 12px; margin-left: 6px; }

/* Requests table */
.req-table { width: 100%; border-collapse: collapse; }
.req-table th, .req-table td { padding: 10px 12px; border-bottom: 1px solid var(--hd-border); text-align: left; }
.req-table th { color: var(--color-text-muted); font-weight: 600; font-size: 0.85rem; }
.pill { display:inline-block; padding: 4px 10px; border-radius:999px; font-size:12px; font-weight:600; }
.pill-red { background:#fff3f3; color:var(--color-accent); border:1px solid #ffd4d7; }
.pill-green { background:#ecfdf5; color:#047857; border:1px solid #c8f4e7; }
.pill-yellow { background:#fefce8; color:#b45309; border:1px solid #f6e7b5; }

/* Buttons inside dashboard (dark overrides) */
.hospital-dashboard .btn { border-radius: 8px; }
.hospital-dashboard .btn-default { background:var(--color-accent); color:#fff; }
.hospital-dashboard .btn-secondary { background:#ffffff; color:var(--color-text); border:1px solid var(--color-border); }
.hospital-dashboard .btn-secondary:hover { background:#f5f7fa; }
.hospital-dashboard .btn-outline { border-color:var(--color-border); color:var(--color-text); }
.hospital-dashboard .btn-outline:hover { background:#ffffff; }

/* Small screens */
@media (max-width: 768px) {
  .subnavbar-container { height: auto; padding: 8px 0; flex-wrap: wrap; }
  .subnav-links { width: 100%; justify-content: center; }
  .stats-grid { grid-template-columns: 1fr; }
}
